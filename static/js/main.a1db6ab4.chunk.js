(this.webpackJsonppanda_store=this.webpackJsonppanda_store||[]).push([[0],{35:function(t,e,c){},36:function(t,e,c){},41:function(t,e,c){"use strict";c.r(e);var a=c(1),n=c(20),r=c.n(n),i=c(8),o=(c(35),c(5)),u=c(4),s=(c(36),c(6)),l=c(7),d=c(10),j=c(9),b=c(19),p=c.n(b),O=c(24);function h(){return(h=Object(O.a)(p.a.mark((function t(){var e,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.mercadolibre.com/sites/MLB/categories");case 2:return e=t.sent,t.next=5,e.json();case 5:return c=t.sent,t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t,e){return f.apply(this,arguments)}function f(){return(f=Object(O.a)(p.a.mark((function t(e,c){var a,n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.mercadolibre.com/sites/MLB/search?category=".concat(e,"&q=").concat(c));case 2:return a=t.sent,t.next=5,a.json();case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var S="ADD_CART",v="COMPLETED_BUY",x="CONTINUOUS_BUY",C="INCREASE_QUANTITY",y="DECREASE_QUANTITY",g="REMOVE_ITEM",N="CLEAR_PRODUCTS",E="SUM_PRODUCTS",R=function(t,e){return{type:S,payload:{product:t,id:e}}},T=function(){return{type:x,payload:{updateSum:!0}}},k=function(){return{type:E}},_="REQUEST_CATEGORIES_LIST_SUCCESS",D="REQUEST_CATEGORIES_LIST_ERROR",L=function(){return function(t){t({type:"FETCH_CATEGORIES_LIST"}),function(){return h.apply(this,arguments)}().then((function(e){return t({type:_,payload:{listCategories:e}})})).catch((function(e){return t({type:D,payload:{error:e}})}))}},I="REQUEST_PRODUCTS",P="REQUEST_PRODUCTS_SUCCESS",U="REQUEST_PRODUCTS_ERROR",A=function(){return{type:I,payload:{fetchOn:!0}}},M=function(t){return{type:P,payload:{products:t.results,fetchOn:!0}}},H=function(t){return{type:U,payload:{error:t}}},w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(c){c(A()),m(t,e).then((function(t){return c(M(t))})).catch((function(t){return c(H(t))}))}},Q=c.p+"static/media/lupa.d7a62503.png",B=c.p+"static/media/cart.80f1b71e.png",V=c(0),F=function(t){Object(d.a)(c,t);var e=Object(j.a)(c);function c(){var t;return Object(s.a)(this,c),(t=e.call(this)).handleChange=function(e){var c=e.target.value;t.setState({query:c})},t.state={query:""},t}return Object(l.a)(c,[{key:"render",value:function(){var t=this.props,e=t.cart,c=t.getProducts,a=this.state.query;return Object(V.jsxs)("div",{className:"elementsHome",children:[Object(V.jsxs)("div",{className:"inputButtons",children:[Object(V.jsx)("input",{className:"inputSearch",placeholder:"Insira um produto",type:"text",onChange:this.handleChange}),Object(V.jsx)("button",{className:"buttonSearch",type:"button",onClick:function(){return c(null,a)},children:Object(V.jsx)("img",{src:Q,alt:"pesquisar",className:"imgSearch"})}),Object(V.jsxs)("div",{className:"qtdAndCart",children:[Object(V.jsx)("button",{className:"cartSearch",type:"button",children:Object(V.jsx)(o.b,{to:"/cart",children:Object(V.jsx)("img",{src:B,alt:"carrinho de compras",className:"imgCart"})})}),Object(V.jsx)("p",{className:0===e.length?"qtdCart":"",children:e.length})]})]}),Object(V.jsx)("h4",{children:"Digite algum termo de pesquisa ou escolha uma categoria."})]})}}]),c}(a.Component),J=Object(i.b)((function(t){return{cart:t.CartReducer.cart}}),(function(t){return{getProducts:function(e,c){return t(w(e,c))}}}))(F),q=function(t){Object(d.a)(c,t);var e=Object(j.a)(c);function c(){var t;return Object(s.a)(this,c),(t=e.call(this)).state={},t}return Object(l.a)(c,[{key:"render",value:function(){var t=this.props.product,e=t.title,c=t.thumbnail,a=t.price;return Object(V.jsxs)("div",{className:"item",children:[Object(V.jsx)("h4",{className:"title",children:e}),Object(V.jsx)("img",{src:c,alt:e}),Object(V.jsx)("h4",{className:"price",children:"R$ ".concat(a.toLocaleString("pt-br",{minimumFractionDigits:2}))})]})}}]),c}(a.Component),X=function(t){Object(d.a)(c,t);var e=Object(j.a)(c);function c(){var t;return Object(s.a)(this,c),(t=e.call(this)).state={},t}return Object(l.a)(c,[{key:"render",value:function(){var t=this.props,e=t.products,c=t.addToCart;return Object(V.jsx)("div",{className:"items",children:e.map((function(t){return Object(V.jsxs)("div",{children:[Object(V.jsx)(q,{product:t}),Object(V.jsx)("button",{type:"button",className:"buttonDetails",children:Object(V.jsx)(o.b,{to:{pathname:"/details/".concat(t.id),state:{product:t}},children:"Mais Detalhes"})}),Object(V.jsx)("button",{type:"button",className:"buttonCart",onClick:function(){return c(t,t.id)},children:"Adicionar"})]},t.id)}))})}}]),c}(a.Component),$=Object(i.b)((function(t){return{products:t.ProductsReducer.products}}),(function(t){return{addToCart:function(e,c){return t(R(e,c))}}}))(X),G=function(t){Object(d.a)(c,t);var e=Object(j.a)(c);function c(){var t;return Object(s.a)(this,c),(t=e.call(this)).oneWordCategories=function(t){return t.split(" ")[0].split(",")[0]},t.state={},t}return Object(l.a)(c,[{key:"render",value:function(){var t=this,e=this.props,c=e.listCategories,a=e.clickCategory;return Object(V.jsx)("div",{className:"categoriesBar",children:Object(V.jsx)("div",{className:"categories",children:c.map((function(e){var c=e.name,n=e.id;return Object(V.jsx)("button",{type:"button",value:n,onClick:function(){return a(n)},children:t.oneWordCategories(c)},n)}))})})}}]),c}(a.Component),Y=Object(i.b)((function(t){return{listCategories:t.CategoriesListReducer.listCategories}}),(function(t){return{clickCategory:function(e,c){return t(w(e,c))}}}))(G),z=function(t){Object(d.a)(c,t);var e=Object(j.a)(c);function c(){var t;return Object(s.a)(this,c),(t=e.call(this)).state={},t}return Object(l.a)(c,[{key:"componentDidMount",value:function(){(0,this.props.categories)()}},{key:"render",value:function(){return this.props.fetchOn?Object(V.jsxs)("div",{children:[Object(V.jsx)(J,{}),Object(V.jsxs)("div",{className:"Cards",children:[Object(V.jsx)(Y,{}),Object(V.jsx)($,{})]})]}):Object(V.jsxs)("div",{className:"pandaBG",children:[Object(V.jsx)(J,{}),Object(V.jsx)(Y,{})]})}}]),c}(a.Component),W=Object(i.b)((function(t){return{fetchOn:t.ProductsReducer.fetchOn}}),(function(t){return{categories:function(){return t(L())}}}))(z),K=function(t){Object(d.a)(c,t);var e=Object(j.a)(c);function c(t){var a;return Object(s.a)(this,c),(a=e.call(this,t)).state={},a}return Object(l.a)(c,[{key:"render",value:function(){var t=this.props.location.state.product,e=t.id,c=t.title,a=t.thumbnail,n=t.price,r=t.attributes,i=this.props,u=i.addToCart,s=i.cart;return Object(V.jsxs)("div",{className:"ProductDetails",children:[Object(V.jsxs)("div",{className:"details",children:[Object(V.jsx)("h4",{children:"DETALHES DO PRODUTO"}),Object(V.jsx)("br",{}),Object(V.jsx)("p",{className:"title",children:c}),Object(V.jsx)("img",{src:a,alt:c}),Object(V.jsx)("p",{className:"price",children:"R$ ".concat(n.toLocaleString("pt-br",{minimumFractionDigits:2}))}),Object(V.jsx)("br",{})]}),Object(V.jsxs)("div",{className:"moreInformations",children:[Object(V.jsx)("h4",{children:"MAIS INFORMA\xc7\xd5ES:"}),Object(V.jsx)("br",{}),r.map((function(t){return Object(V.jsx)("div",{children:Object(V.jsx)("p",{className:"uppercase",children:"".concat(t.name,": ").concat(t.value_name)})},t.name)}))]}),Object(V.jsxs)("div",{className:"areaButtonsDetails",children:[Object(V.jsx)("button",{type:"button",className:"buttonCart",onClick:function(){return u(t,e)},children:"Adicionar"}),Object(V.jsx)("button",{type:"button",className:"buttonHome",children:Object(V.jsx)(o.b,{to:"/",children:"Home"})}),Object(V.jsxs)("div",{className:"qtdAndCart",children:[Object(V.jsx)("button",{className:"cartSearch",type:"button",children:Object(V.jsx)(o.b,{to:"/cart",children:Object(V.jsx)("img",{src:B,alt:"carrinho de compras",className:"imgCart"})})}),Object(V.jsx)("p",{className:0===s.length?"qtdCart":"",children:s.length})]})]})]})}}]),c}(a.Component),Z=Object(i.b)((function(t){return{cart:t.CartReducer.cart}}),(function(t){return{addToCart:function(e,c){return t(R(e,c))}}}))(K),tt=function(t){Object(d.a)(c,t);var e=Object(j.a)(c);function c(t){var a;return Object(s.a)(this,c),(a=e.call(this,t)).state={},a}return Object(l.a)(c,[{key:"componentDidMount",value:function(){(0,this.props.totalSumProducts)()}},{key:"componentDidUpdate",value:function(){(0,this.props.totalSumProducts)()}},{key:"render",value:function(){var t=this.props,e=t.cart,c=t.increaseQty,a=t.decreaseQty,n=t.removeIteM,r=t.clearProductS,i=t.backToHome;return e.length?Object(V.jsxs)("div",{className:"cartFull",children:[Object(V.jsx)("div",{className:"itemsCart",children:e.map((function(t){var e=t.id,r=t.title,i=t.price,o=t.thumbnail,u=t.availableQuantity,s=t.count,l=t.totalValue;return Object(V.jsx)("div",{children:Object(V.jsxs)("div",{className:"itemCart",children:[Object(V.jsx)("h4",{className:"title",children:r}),Object(V.jsx)("img",{src:o,alt:r}),Object(V.jsx)("h4",{children:"Qtide: ".concat(s.toLocaleString("pt-br",{minimumFractionDigits:1}))}),Object(V.jsx)("h4",{className:"price",children:"Pre\xe7o: R$ ".concat(i.toLocaleString("pt-br",{minimumFractionDigits:2}))}),Object(V.jsxs)("h3",{className:"totalValue",children:["Total R$:",l.toLocaleString("pt-br",{minimumFractionDigits:2})]}),Object(V.jsxs)("div",{className:"itemButtons",children:[Object(V.jsx)("button",{className:"increase",type:"button",disabled:s>=u,onClick:function(){return c(e,s)},children:"+"}),Object(V.jsx)("button",{className:"decrease",type:"button",onClick:function(){return a(e)},children:"-"}),Object(V.jsx)("button",{className:"remove",type:"button",onClick:function(){return n(e)},children:"X"})]})]})},e)}))}),Object(V.jsxs)("div",{className:"areaButtons",children:[Object(V.jsx)("button",{type:"button",className:"buttonCheckout",children:Object(V.jsx)(o.b,{to:"/checkout",children:"Finalizar Compra"})}),Object(V.jsx)("button",{type:"button",className:"buttonClear",onClick:r,children:"Limpar Produtos"}),Object(V.jsx)("button",{type:"button",className:"buttonHome",onClick:i,children:Object(V.jsx)(o.b,{to:"/",children:"Home"})})]})]}):Object(V.jsxs)("div",{className:"cartEmpty",children:[Object(V.jsxs)("div",{children:[Object(V.jsx)("h3",{children:"Carrinho de Compras"}),Object(V.jsx)("h5",{children:"Seu carrinho est\xe1 vazio."})]}),Object(V.jsx)("div",{className:"areaButtons",children:Object(V.jsx)("button",{type:"button",className:"buttonHome",onClick:i,children:Object(V.jsx)(o.b,{to:"/",children:"Home"})})})]})}}]),c}(a.Component),et=Object(i.b)((function(t){var e=t.CartReducer;return{cart:e.cart,countScreen:e.countScreen}}),(function(t){return{increaseQty:function(e,c){return t(function(t){return{type:C,payload:{id:t}}}(e))},decreaseQty:function(e){return t(function(t){return{type:y,payload:{id:t}}}(e))},removeIteM:function(e){return t(function(t){return{type:g,payload:{id:t}}}(e))},clearProductS:function(){return t({type:N})},totalSumProducts:function(){return t(k())},backToHome:function(){return t(T())}}}))(tt),ct=function(t){Object(d.a)(c,t);var e=Object(j.a)(c);function c(t){var a;return Object(s.a)(this,c),(a=e.call(this,t)).state={},a}return Object(l.a)(c,[{key:"componentDidMount",value:function(){(0,this.props.totalSumProducts)()}},{key:"componentDidUpdate",value:function(){(0,this.props.totalSumProducts)()}},{key:"render",value:function(){var t=this.props,e=t.buyCompleted,c=t.backToHome,a=t.cart,n=t.totalSum;return a.length?Object(V.jsxs)("div",{className:"checkoutFull",children:[Object(V.jsx)("div",{className:"itemsCart",children:a.map((function(t){var e=t.id,c=t.thumbnail,a=t.title,n=t.totalValue,r=t.count;return Object(V.jsx)("div",{children:Object(V.jsxs)("div",{className:"itemCheckout",children:[Object(V.jsx)("img",{src:c,alt:a}),Object(V.jsx)("h4",{className:"title",children:a}),Object(V.jsx)("h4",{children:"Qtide: ".concat(r)}),Object(V.jsx)("h3",{className:"price",children:"Valor R$:\n                    ".concat(n.toLocaleString("pt-br",{minimumFractionDigits:2}))})]})},e)}))}),Object(V.jsx)("h4",{className:"totalValue",children:"VALOR TOTAL DO PRODUTOS:\n            R$ ".concat(n.toLocaleString("pt-br",{minimumFractionDigits:2}))}),Object(V.jsx)("br",{}),Object(V.jsxs)("div",{className:"areaButtons",children:[Object(V.jsx)("button",{type:"button",className:"buttonCheckout",children:Object(V.jsx)(o.b,{to:"/",onClick:e,children:"Comprar"})}),Object(V.jsx)("button",{type:"button",className:"buttonCancel",children:Object(V.jsx)(o.b,{to:"/",onClick:e,children:"Cancelar Compra"})}),Object(V.jsx)("button",{type:"button",className:"buttonHome",onClick:c,children:Object(V.jsx)(o.b,{to:"/",children:"Home"})})]})]}):Object(V.jsxs)("div",{className:"cartEmpty",children:[Object(V.jsxs)("div",{children:[Object(V.jsx)("h2",{children:"Resumo da Compra"}),Object(V.jsx)("h5",{children:"Seu carrinho est\xe1 vazio."})]}),Object(V.jsx)("div",{className:"areaButtons",children:Object(V.jsx)("button",{type:"button",className:"buttonHome",children:Object(V.jsx)(o.b,{to:"/",children:"Home"})})})]})}}]),c}(a.Component),at=Object(i.b)((function(t){var e=t.CartReducer;return{cart:e.cart,totalSum:e.totalSum}}),(function(t){return{buyCompleted:function(){return t({type:v,payload:{cart:[],countScreen:[],totalSum:0,updateSum:!0}})},totalSumProducts:function(){return t(k())},backToHome:function(){return t(T())}}}))(ct),nt=c.p+"static/media/pandaHeader.0d3a3eaf.png";var rt=function(){return Object(V.jsxs)("div",{children:[Object(V.jsxs)("header",{className:"header",children:[Object(V.jsx)("img",{src:nt,alt:"urso panda",width:"65px"}),Object(V.jsx)("h1",{children:"PANDA STORE REDUX"})]}),Object(V.jsx)(o.a,{children:Object(V.jsxs)(u.c,{children:[Object(V.jsx)(u.a,{exact:!0,path:"/",component:W}),Object(V.jsx)(u.a,{path:"/details/:id",component:Z}),Object(V.jsx)(u.a,{path:"/cart",component:et}),Object(V.jsx)(u.a,{path:"/checkout",component:at})]})})]})},it=c(16),ot=c(27),ut=c(2),st=c(15);function lt(t,e){var c=t.id,a=t.title,n=t.thumbnail,r=t.price,i=e.find((function(e){return e.id===t.id}));if(!e.length||!i){var o=t.available_quantity,u=[].concat(Object(st.a)(e),[{id:c,title:a,thumbnail:n,price:r,availableQuantity:o,count:1,totalValue:r}]);return localStorage.setItem("LScart",JSON.stringify(u)),u}var s=Object(st.a)(e),l=s.indexOf(i);return s[l].count+=1,s[l].totalValue=Math.round(s[l].count*s[l].price*100)/100,localStorage.setItem("LScart",JSON.stringify(s)),s}var dt=function(t,e){return localStorage.setItem("LScart",JSON.stringify(t)),localStorage.setItem("LScount",JSON.stringify(e)),{updatedCart:t,updatedCount:e}},jt=function(t,e){var c=Object(st.a)(e),a=c.find((function(e){return e.id===t})),n=c.indexOf(a);return c[n].count+=1,c[n].totalValue=Math.round(c[n].count*c[n].price*100)/100,localStorage.setItem("LScart",JSON.stringify(c)),{updatedCart:c,updateSum:!0}},bt=function(t,e){var c=Object(st.a)(e),a=c.find((function(e){return e.id===t})),n=c.indexOf(a);return c[n].count>1?(c[n].count-=1,c[n].totalValue=Math.round(c[n].count*c[n].price*100)/100,localStorage.setItem("LScart",JSON.stringify(c)),{updatedCart:c,updateSum:!0}):""},pt=function(t,e){var c=Object(st.a)(e).filter((function(e){return e.id!==t}));return localStorage.setItem("LScart",JSON.stringify(c)),{updatedCart:c,updateSum:!0}},Ot=function(){var t=[],e=[];return localStorage.setItem("LScart",JSON.stringify(t)),localStorage.setItem("LScount",JSON.stringify(e)),{updatedCart:t,updatedCount:e,updateSum:!0}},ht=function(t){return{totalSum:t.reduce((function(t,e){return t+e.totalValue}),0),updateSuM:!1}},mt={cart:function(){var t=localStorage.getItem("LScart");return t?{LScart:JSON.parse(t)}:{LScart:[]}}().LScart,totalSum:0,updateSum:!0},ft=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case S:var c=e.payload.product,a=t.cart,n=lt(c,a);return Object(ut.a)(Object(ut.a)({},t),{},{cart:n});case C:var r=e.payload.id,i=t.cart,o=jt(r,i),u=o.updatedCart,s=o.updateSum;return Object(ut.a)(Object(ut.a)({},t),{},{cart:u,updateSum:s});case y:var l=e.payload.id,d=t.cart,j=bt(l,d),b=j.updatedCart,p=j.updateSum;return b?Object(ut.a)(Object(ut.a)({},t),{},{cart:b,updateSum:p}):t;case g:var O=e.payload.id,h=t.cart,m=pt(O,h),f=m.updatedCart,R=m.updateSum;return Object(ut.a)(Object(ut.a)({},t),{},{cart:f,updateSum:R});case N:var T=Ot(),k=T.updatedCart,_=T.updatedCount,D=T.updateSum;return Object(ut.a)(Object(ut.a)({},t),{},{cart:k,countScreen:_,updateSum:D});case E:var L=t.updateSum,I=t.cart,P=ht(I),U=P.totalSum,A=P.updateSuM;return L?Object(ut.a)(Object(ut.a)({},t),{},{totalSum:U,updateSum:A}):t;case x:var M=e.payload.updateSum;return Object(ut.a)(Object(ut.a)({},t),{},{updateSum:M});case v:var H=e.payload,w=H.cart,Q=H.countScreen,B=H.totalSum,V=H.updateSum,F=dt(w,Q),J=F.updatedCart,q=F.updatedCount;return Object(ut.a)(Object(ut.a)({},t),{},{cart:J,countScreen:q,totalSum:B,updateSum:V});default:return t}},St={listCategories:[]},vt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case _:var c=e.payload.listCategories;return Object(ut.a)(Object(ut.a)({},t),{},{listCategories:c});case D:var a=e.payload.error;return Object(ut.a)(Object(ut.a)({},t),{},{error:a});default:return t}},xt={products:[],fetchOn:!1},Ct=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case I:var c=e.payload.fetchOn;return Object(ut.a)(Object(ut.a)({},t),{},{fetchOn:c});case P:var a=e.payload,n=a.products,r=a.fetchOn;return Object(ut.a)(Object(ut.a)({},t),{},{products:n,fetchOn:r});case U:var i=e.payload.error;return Object(ut.a)(Object(ut.a)({},t),{},{error:i});default:return t}},yt=Object(it.b)({CartReducer:ft,CategoriesListReducer:vt,ProductsReducer:Ct}),gt="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof(arguments.length<=0?void 0:arguments[0])?it.c:it.c.apply(void 0,arguments)},Nt=Object(it.d)(yt,gt(Object(it.a)(ot.a)));r.a.render(Object(V.jsx)(i.a,{store:Nt,children:Object(V.jsx)(rt,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.a1db6ab4.chunk.js.map